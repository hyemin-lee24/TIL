# JSON ν†µμ‹  ν”„λ΅ν† μ½μ μƒμ„/ν•μ„ νΈν™μ„± μ„¤κ³„ with Jackson

## π“ μ£Όμ 

Java ν”„λ΅μ„Έμ¤ κ°„ JSON κΈ°λ° ν†µμ‹ μ—μ„ Jackson μ§λ ¬ν™”/μ—­μ§λ ¬ν™”λ¥Ό μ‚¬μ©ν•  λ•

ν”„λ΅ν† μ½ μ¤ν™ λ³€κ²½(ν•„λ“ μ¶”κ°€, enum ν™•μ¥ λ“±)μ— λ”°λ¥Έ **μƒμ„/ν•μ„ νΈν™μ„±**μ„ μ μ§€ν•λ” μ„¤κ³„ λ°©λ²• μ •λ¦¬.

---

## λ°°κ²½

λ‘ Java μ„λΉ„μ¤ κ°„ ν†µμ‹ μ„ JSON + JacksonμΌλ΅ μ²λ¦¬ μ¤‘,

ν•μ½μ—μ„ ν”„λ΅ν† μ½ ν•„λ“(`type`)λ¥Ό μƒλ΅ μ¶”κ°€ν–μ„ λ• λ‹¤μ λ¬Έμ κ°€ λ°μƒ:

- κµ¬λ²„μ „μ€ μ• μ μ—†λ” ν•„λ“λ¥Ό ν¬ν•¨ν• JSONμ„ λ°›μ„ κ²½μ° μμ™Έ λ°μƒ κ°€λ¥
- μ‹ λ²„μ „μ€ λ„λ½λ ν•„λ“λ¥Ό λ°›μ„ κ²½μ° `null` μ²λ¦¬λ΅ μΈν• NPE μ„ν— μ΅΄μ¬

---

## β… ν•΄κ²° λ°©λ²• μ”μ•½

### π”½ ν•μ„ νΈν™μ„± (Backward Compatibility)

*μ‹ λ²„μ „ β†’ κµ¬λ²„μ „ JSON λ©”μ‹μ§€ μμ‹  μ‹ μ•μ •μ μΌλ΅ μ²λ¦¬*

- μƒλ΅ μ¶”κ°€λλ” ν•„λ“μ— **κΈ°λ³Έκ°’ μ„¤μ •**
  
    ```java
    private String type = "DEFAULT";
    ```
    
- `getter`μ—μ„ null-safe μ²λ¦¬
  
    ```java
    public String getType() {
        return type != null ? type : "DEFAULT";
    }
    ```
    
- **μ—­μ§λ ¬ν™” ν›„ κ°μ²΄ μƒνƒ λ‹¨μ„ ν…μ¤νΈ μ‘μ„±**
  
    β†’ ν•„μ ν•„λ“ λ„λ½ μ‹ μ„λΉ„μ¤ μμ™Έ λ°©μ§€
    

---

### π”Ό μƒμ„ νΈν™μ„± (Forward Compatibility)

*κµ¬λ²„μ „ β†’ μ‹ λ²„μ „ JSON λ©”μ‹μ§€ μμ‹  μ‹ λ¬΄μ‹ μ²λ¦¬*

- Jacksonμ— λ‹¤μ μ–΄λ…Έν…μ΄μ… μ μ©
  
    ```java
    @JsonIgnoreProperties(ignoreUnknown = true)
    public class CertificateIssueResponse { ... }
    ```
    
- μ• μ μ—†λ” ν•„λ“ λ¬΄μ‹ν•λ„λ΅ μ„¤μ •
  
    β†’ ν”„λ΅ν† μ½ ν™•μ¥ μ‹μ—λ„ κµ¬λ²„μ „κ³Ό μ¶©λ μ—†μ
    

---

## π§ ν…μ¤νΈ μ „λµ

- JUnit κΈ°λ° λ‹¨μ„ ν…μ¤νΈλ΅ JSON λ„λ½ ν•„λ“/μ¶”κ°€ ν•„λ“ μΌ€μ΄μ¤ μ»¤λ²„
- `ObjectMapper.readValue()` μν–‰ ν›„ ν•„λ“ μƒνƒ κ²€μ¦

---

## βοΈ

- Jackson κΈ°λ° μ‹μ¤ν…λ„ μ„¤κ³„λ§ μ ν•λ©΄ **μ¶©λ¶„ν μ•μ •μ μΈ ν”„λ΅ν† μ½ νΈν™μ„± μ μ§€κ°€ κ°€λ¥**
- ν”„λ΅ν† μ½ μ¤ν™μ€ μ‹¤μ  ν†µμ‹  λ€μƒ λ²„μ „λ„ κ³ λ ¤ν•΄ **ν…μ¤νΈ/κ²€μ¦ μ£ΌκΈ°λ¥Ό λ°λ“μ‹ ν¬ν•¨**ν•  κ²ƒ
- μ¶”ν›„μ—λ” **Protobuf λλ” Avro κ°™μ€ μ¤ν‚¤λ§ κΈ°λ° μ§λ ¬ν™” ν¬λ§·**λ„ λ„μ… κ²€ν†  κ°€μΉ μμ

---

## π· ν‚¤μ›λ“

`Jackson` `JSON` `Protocol Design` `Backward Compatibility` `Forward Compatibility`

`@JsonIgnoreProperties` `null-safe getter` `μ§λ ¬ν™” νΈν™μ„± μ„¤κ³„`